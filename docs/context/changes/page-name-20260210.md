# 변경 맥락

## 변경 요약
- `public.page.title` 컬럼을 `public.page.name`으로 안전하게 전환하는 마이그레이션을 추가했다.
- `create_page_for_user` 함수 계약을 `p_name` 기준으로 재정의해 새 컬럼명을 일관되게 사용한다.
- 서버 액션/서비스/프론트 타입과 렌더링 필드를 `title`에서 `name`으로 동기화했다.

## 변경 파일
- `schema/migrations/20260210200000_rename_page_title_to_name.sql`
- `types/supabase.ts`
- `service/onboarding/public-page.ts`
- `service/onboarding/schema.ts`
- `service/onboarding/service.ts`
- `service/onboarding/__tests__/schema.test.ts`
- `app/(auth)/onboarding/actions.ts`
- `app/[handle]/actions.ts`
- `app/[handle]/page.tsx`
- `components/public-page/editable-page-profile.tsx`
- `docs/domains/page-schema.md`
- `docs/domains/onboarding-flow.md`
- `README.md`

## 핵심 설계 결정
- 컬럼 rename은 `information_schema` 검사 후 실행해 재실행 시에도 안전하도록 구성했다.
- 마이그레이션에서 함수를 `create or replace`로 재정의해 컬럼 rename 이후 즉시 일관된 insert/update 경로를 보장한다.
- 온보딩 액션은 기존 폼 키 `title`도 fallback으로 허용해 전환 과정의 입력 호환성을 유지한다.
