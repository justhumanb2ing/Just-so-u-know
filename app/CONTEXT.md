# CONTEXT

## 이 모듈이 하는 일
- App Router 페이지와 서버 액션 진입점으로서 인증/온보딩/공개 페이지 접근 흐름을 제어한다.

## 파일 구조와 역할
- `(auth)` 하위: 로그인/온보딩 페이지와 온보딩 서버 액션
- `[handle]`: 공개 페이지 렌더링
- `layout.tsx`: 전역 레이아웃

## 핵심 설계 결정
- 인증/온보딩 검증은 `proxy`와 페이지 서버 컴포넌트에서 이중 확인한다.
- 폼 비즈니스 로직은 `service/onboarding`로 위임하고, `app`은 입출력 경계 처리에 집중한다.

## 사용 패턴
- 서버 액션에서 세션 검증 후 zod 스키마 검증을 수행한다.
- 페이지는 리다이렉트 조건을 빠르게 평가하고 필요 시 즉시 `redirect()`/`notFound()`를 반환한다.

## 확장 시 고려사항
- 인증 우회가 발생하지 않도록 새 페이지도 `route-access` 정책과 정렬한다.
- 도메인 로직이 커지면 서버 액션에서 서비스 계층 호출만 남기고 추가 분기를 서비스로 이동한다.

## (선택) 보안 관련 사항
- 세션 없는 요청은 서버 액션/페이지 모두에서 거절한다.
